(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c4841f26"],{4691:function(r,e,s){"use strict";s.r(e);var o=function(){var r=this,e=r.$createElement,s=r._self._c||e;return s("section",{staticClass:"revise-pwd"},[s("el-form",{ref:"ruleForm",staticClass:"revise-ruleForm",attrs:{model:r.ruleForm,rules:r.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"新密码",prop:"password"}},[s("el-input",{attrs:{placeholder:"请输入新密码",type:"password",clearable:""},model:{value:r.ruleForm.password,callback:function(e){r.$set(r.ruleForm,"password",e)},expression:"ruleForm.password"}})],1),s("el-form-item",{attrs:{label:"确认密码",prop:"repPassword"}},[s("el-input",{attrs:{placeholder:"请再次输入新密码",type:"password",clearable:""},model:{value:r.ruleForm.repPassword,callback:function(e){r.$set(r.ruleForm,"repPassword",e)},expression:"ruleForm.repPassword"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary",loading:r.isLoading},on:{click:function(e){return r.submitForm("ruleForm")}}},[r._v(r._s(r.isLoading?"提交中":"提交"))])],1)],1)],1)},t=[],a=s("3786"),i=/^(?=.*[a-zA-Z])(?=.*\d)[\S]{8,16}$/,n={data:function(){var r=this,e=function(e,s,o){""===s?o(new Error("请再次输入密码")):s!==r.ruleForm.password?o(new Error("两次输入密码不一致!")):o()};return{ruleForm:{password:"",repPassword:""},isLoading:!1,rules:{password:[{required:!0,validator:function(r,e,s){i.test(e)?s():s(new Error("新密码需要8-16位，且至少包含字母和数字，不能有空格"))},trigger:"blur"}],repPassword:[{required:!0,message:"请再次输入新密码",trigger:"blur"},{validator:e,trigger:"blur"}]},id:null}},created:function(){this.getUserInfo()},methods:{getUserInfo:function(){var r=this;Object(a["b"])().then((function(e){r.id=e.id}))},submitForm:function(r){var e=this;this.$refs[r].validate((function(r){if(!r)return console.log("error submit!!"),!1;var s={id:e.id,password:e.ruleForm.password};e.isLoading=!0,Object(a["e"])({data:s}).then((function(){e.isLoading=!1,e.$message({message:"修改成功",type:"success"}),setTimeout((function(){localStorage.removeItem("total-token"),e.$router.push("/login")}),2e3)})).catch((function(r){e.isLoading=!1,e.$message.error("修改失败："+r)}))}))}}},l=n,u=(s("ec0f"),s("2877")),c=Object(u["a"])(l,o,t,!1,null,"784ee191",null);e["default"]=c.exports},"510f":function(r,e,s){},ec0f:function(r,e,s){"use strict";s("510f")}}]);
//# sourceMappingURL=chunk-c4841f26.6412b05f.js.map