(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9b6d3908"],{3697:function(e,t,a){"use strict";a("b421")},b421:function(e,t,a){},e419:function(e,t,a){"use strict";a.d(t,"e",(function(){return o})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return s})),a.d(t,"f",(function(){return r})),a.d(t,"b",(function(){return d})),a.d(t,"d",(function(){return c}));var i=a("afaa"),o=function(e){return Object(i["a"])({url:"/api-customer/service-wisdom-town/community/list",method:"GET",params:e})},n=function(e){return Object(i["a"])({url:"/api-customer/service-wisdom-town/community/getAll",method:"GET",params:e})},s=function(e){return Object(i["a"])({method:"POST",url:"/api-customer/service-wisdom-town/community/add",data:e})},r=function(e){return Object(i["a"])({method:"PUT",url:"/api-customer/service-wisdom-town/community/update",data:e})},d=function(e){return Object(i["a"])({method:"DELETE",url:"/api-customer/service-wisdom-town/community/delete?id=".concat(e.id)})},c=function(e){return Object(i["a"])({url:"/api-customer/service-wisdom-town/community/getPolice",method:"GET",params:e})}},f168:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tabs-box"},[a("common-table",{ref:"table",attrs:{headers:e.headers,api:e.pageAPI,params:e.params,"can-add":!1,"can-delete":!1,uploadURL:e.uploadURL,modelUrl:e.modelUrl,settings:["setting","upload"]},on:{editRow:e.editRow},scopedSlots:e._u([{key:"table-header",fn:function(){return[a("table-search",{attrs:{resettable:"",labelWidth:"90px",columns:e.searchColumns},on:{search:e.search},model:{value:e.params,callback:function(t){e.params=t},expression:"params"}})]},proxy:!0}])}),e.visibleDialog?a("edit-dialog",{attrs:{visibleDialog:e.visibleDialog,title:e.title,loading:e.loading,form:e.form},on:{"update:visibleDialog":function(t){e.visibleDialog=t},"update:visible-dialog":function(t){e.visibleDialog=t}},scopedSlots:e._u([{key:"form-content",fn:function(){return[a("div",{staticClass:"address-edit-content"},[a("div",{staticClass:"address-edit-item"},[a("div",{staticClass:"address-edit-title"},[e._v("社区别名")]),a("form-table",{attrs:{"add-title":"添加社区别名",columns:e.communityColumns},on:{saveRow:e.saveAlias,deleteRow:e.deleteAlias},model:{value:e.form.community,callback:function(t){e.$set(e.form,"community",t)},expression:"form.community"}})],1),a("div",{staticClass:"address-edit-item"},[a("div",{staticClass:"address-edit-title"},[e._v("扩展地址")]),a("form-table",{attrs:{"add-title":"添加扩展地址",columns:e.addressColumns},on:{saveRow:e.saveAddress,deleteRow:e.deleteAddress},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1)])]},proxy:!0}],null,!1,2680459778)}):e._e()],1)},o=[],n=(a("d3b7"),a("96cf"),a("1da1")),s=a("1892"),r=a("ddde"),d=a("6208"),c=a("e66c"),u=a("afaa"),m=function(e){return Object(u["a"])({url:"/api-customer/communityAliasAddress/list",method:"GET",params:e})},l=function(e){return Object(u["a"])({method:"POST",url:"/api-customer/community/address/add",data:e})},p=function(e){return Object(u["a"])({method:"PUT",url:"/api-customer/community/address/update",data:e})},f=function(e){return Object(u["a"])({method:"DELETE",url:"/api-customer/community/address/delete",data:e})},b=function(e){return Object(u["a"])({method:"POST",url:"/api-customer/community/alias/add",data:e})},h=function(e){return Object(u["a"])({method:"PUT",url:"/api-customer/community/alias/update",data:e})},v=function(e){return Object(u["a"])({method:"DELETE",url:"/api-customer/community/alias/delete",data:e})},y=a("e419"),g={name:"Address",components:{CommonTable:s["a"],EditDialog:r["a"],TableSearch:d["a"],formTable:c["a"]},data:function(){return{pageAPI:m,visibleDialog:!1,loading:!1,type:"add",title:"新增地址",modelUrl:"",uploadURL:"/api-customer/community/address/import",params:{},headers:[{prop:"index",label:"序号"},{prop:"communityName",label:"社区名称"},{prop:"address",label:"标准地址"},{prop:"communityCount",label:"社区别称数"},{prop:"addressCount",label:"扩展地址数"},{prop:"action",label:"操作",width:100,fixed:"right"}],communityColumns:[{prop:"communityName",label:"社区别名",type:"text"}],addressColumns:[{prop:"address",label:"扩展地址",type:"text"}],commonOptions:{communities:[]},form:{community:[],address:[]}}},computed:{searchColumns:function(){return[{prop:"communityId",label:"社区名称",type:"select",options:this.commonOptions.communities}]}},created:function(){this.getOptions()},methods:{getOptions:function(){this.getCommunities()},getCommunities:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(y["c"])();case 2:e.commonOptions.communities=t.sent;case 3:case"end":return t.stop()}}),t)})))()},search:function(){this.$refs.table.onQuery()},editRow:function(e){this.type="edit",this.title="编辑地址",this.form=Object.assign({},e),this.visibleDialog=!0},saveAlias:function(e){var t=e.id?b:h;this.saveApi(t,e)},deleteAlias:function(e){e.id&&this.saveApi(v,e,"删除")},saveAddress:function(e){var t=e.id?l:p;this.saveApi(t,e)},deleteAddress:function(e){e.id&&this.saveApi(f,e,"删除")},saveApi:function(e,t){var a=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"保存";e(t).then((function(){a.$message.success(i+"成功！")})).catch((function(e){a.$message.error(i+"失败："+e)})).finally((function(){a.refreshData()}))},refreshData:function(){}}},w=g,O=(a("3697"),a("2877")),A=Object(O["a"])(w,i,o,!1,null,"5e652d62",null);t["default"]=A.exports}}]);
//# sourceMappingURL=chunk-9b6d3908.b2bd7ed0.js.map